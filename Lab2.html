<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset = "UTF-8" />
        <title>NCHA Registration Form</title>
        <!--<link href = "_css/styles.css" rel = "sytlesheet" type = "text/css">-->
        <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
        </script>
        <script>
            $(document).ready(function(){
                $("#first").mouseleave(testFirst);
                $("#last").mouseleave(testLast);
                $("#id").mouseleave(testID);
                $("#phone").mouseleave(testPhone);
                $("#cardNo").mouseleave(testCardNum);
                $("#email").mouseleave(testEmail);
                $("#NCHAForm").submit(validateAll);
                    });
            
                function validateAll() {
                    var validIndicator = true;
                    alert("validate has been called");
                    if(!testFirst()){
                       validIndicator = false;
                       }
                    if(!testLast()){
                        validIndicator = false;
                    }
                    if(!testID()){
                        validIndicator = false;
                    }
                    if(!testEmail()){
                        validIndicator = false;
                    }
                    if(!testPhone()){
                        validIndicator = false;
                    }
                    if(!testCardNum()){
                        validIndicator = false;
                    }
                    if(validIndicator){
                    alert("Thanks you for properly filling out NCHA's Registration Form! Your card "+ $("#cardNo").val() + " was charged");
                    }
                    return validIndicator;
                }
                function testFirst(){
                    alert("first Name was tested");
                    var name=$("#first").val();
                    var pos = name.search(/^[A-Z][a-z]+$/);
                    if(pos == 0){
                        alert(name +" was valid");
                        return true
                    }
                    else{
                        alert(name + " was invalid");
                        $("#first").focus();
                        $("#first").val("");
                        return false;
                    }
                }
                                     
                function testLast(){
                    alert("Last Name was tested");
                    var lasname=$("#last").val();
                    var laspos = lasname.search(/^[A-Z][a-z]+$/);
                    if(laspos == 0){
                        alert(lasname+ " was valid");
                        return true;
                    }
                    else{
                        alert(lasname +" was invalid");
                        $("#last").focus();
                        $("#last").val("");
                        return false;
                    }
                 }
                
                function testID(){
                    alert("ID was tested");
                    var idval=$("#id").val();
                    var idpos = idval.search(/^\d{6}$/);
                    if(idpos == 0){
                        alert(idval + " was valid");
                        return true;
                    }
                    else{
                        alert(idval + " was invalid: Please retype your correct 6 digit ID");
                        $("#id").focus();
                        $("#id").val("");
                        return false;
                    }
                 }
            function testPhone(){
                    alert("Phone was tested");
                    var phoneval=$("#phone").val();
                    var phonpos = phoneval.search(/^\d{3}-\d{3}-\d{4}$/);
                    if(phonpos == 0){
                        alert(phoneval + " was valid");
                        return true;
                    }
                    else{
                        alert(phoneval + " was invalid: Please retype in the format XXX-XXX-XXXX");
                        $("#phone").focus();
                        $("#phone").val("");
                        return false;
                    }
                 }
            
            function testCardNum(){
                    alert("Card Number was tested");
                    var cardval=$("#cardNo").val();
                    var cardpos = cardval.search(/^\d{16}$/);
                    if(cardpos == 0){
                        alert(cardval +" was valid");
                        return true;
                    }
                    else{
                        alert(cardval +" was invalid: Please retype in the correct 16 digit length");
                        $("#cardNo").focus();
                        $("#cardNo").val("");
                        return false;
                    }
                 }
            function testEmail(){
                    alert("Email was tested");
                    var eval=$("#email").val();
                    var epos = eval.search(/^\w{3,}[@]\w{3,}[.]\w{3}/);
                    if(epos == 0){
                        alert(eval +" was valid");
                        return true;
                    }
                    else{
                        alert(eval +" was invalid: Please retype a correct email");
                        $("#email").focus();
                        $("#email").val("");
                        return false;
                    }
                 }
            function finalCost(){
                var tmpOpen = $("open").val();
                var tmpNonPro = $("Non-Pro").val();
                var tmpNNP = $("25kNNP").val();
                var tmpfifAM = $("50kAm").val();
                var tmpNP = $("35kNP").val();
                var tmpTeenAM = $("15kAm").val();
                
                var tmpStall = $("stall").val();
                var tmpHook = $("hookup").val();
                
                if(tmpOpen.check == true)
                    {
                        total = total + tmpOpen.val();
                    }
                if(tmpNonPro.check == true)
                    {
                        total = total + tmpNonPro.val();
                    }
                if(tmpNNP.check == true)
                    {
                        total = total + tmpNNP.val();
                    }
                if(tmpfifAM.check == true)
                    {
                        total = total + tmpfifAM.val();
                    }
                if(tmpNP.check == true)
                    {
                        total = total + tmpNP.val();
                    }
                if(tmpTeenAM.check == true)
                    {
                        total = total + tmpTeenAM.val();
                    }
                if(tmpStall.check == true)
                    {
                        total = total + tmpStall.val();
                    }
                if(tmpHook.check == true)
                    {
                        total = total + tmpHook.val();
                    }
                return total;
            }
            
            
        </script>
    </head>
    <body>
        <h2>NCHA's User Registration
        </h2>
        <form id = "NCHAForm" method = "get" action = "https://www.nchacutting.com/">
            <p>
                <label> First Name: &nbsp;
                    <input type = "text" id  = "first" name = "FirstName" size = "20" /> 
                </label>
                <label> Last Name: &nbsp;
                    <input type = "text" id = "last" name = "LastName" size = "20" />
                </label>
                <br />
                <label> NCHA ID: &nbsp;
                    <input type = "text" id = "id" name = "NCHA ID" size = "20" />
                </label>
                <br />
                <label> Email: &nbsp;
                    <input type = "text" id = "email" name = "Electromail" size = "20" />
                </label>
                <br />
                <label> Phone (in the form 999-999-9999): &nbsp;
                    <input type = "text" id = "phone" name = "phoneNum" size = "12" />
                </label>
            <p />
            <p> Show Date <br />
                <label><input type = "radio" name = "date" value = "March16" />
                    March 16, 2018 </label> <br />
                <label><input type = "radio" name = "date" value = "March17" />
                    March 17, 2018 </label> <br />
                <label><input type = "radio" name = "date" value = "March18" />
                    March 18, 2018 </label> <br />
                <label><input type = "radio" name = "date" value = "March19" />
                    March 19, 2018 </label> 
            </p>
            <p class = classEntry> Class Entry <br />
                <label><input type = "checkbox" id = "open" value = "300" />
                    Open </label> <br />
                <label><input type = "checkbox" id = "Non-Pro" value = "300" />
                    Non-Pro </label> <br />
                <label><input type = "checkbox" id = "25kNNP" value = "250" />
                    25k NNP </label> <br />
                <label><input type = "checkbox" id = "50kAm" value = "250" />
                    50k Amatuer </label> <br />
                <label><input type = "checkbox" id = "35kNP" value = "150" />
                    35k NP </label> <br />
                <label><input type = "checkbox" id = "15kAm" value = "150" />
                    15k Amatuer </label> 
                <script type = "text/javascript">
                    var limit = 3;
                </script>
            </p>
            <p class = classEntry> Additional Fees <br />
                <label><input type = "checkbox" id = "stall" value = "30" />
                    Stall Rental- $30 </label>
                <label><input type = "checkbox" id = "hookup" value = "35" />
                    RV Hookup- $35 </label>
            </p>
            <p> Payment Method
                <select name = "card">
                    <option> Mastercard </option>
                    <option> Visa </option>
                    <option> Discover </option>
                </select>
            </p>
            <p>
                <label> Card Number &nbsp;
                    <input type = "number" id = "cardNo" name = "cardNum" size = "16" />
                </label>
                Expiration MM &nbsp;
                <select name = "month">
                    <option> 01 </option>
                    <option> 02 </option>
                    <option> 03 </option>
                    <option> 04 </option>
                    <option> 05 </option>
                    <option> 06 </option>
                    <option> 07 </option>
                    <option> 08 </option>
                    <option> 09 </option>
                    <option> 10 </option>
                    <option> 11 </option>
                    <option> 12 </option>
                </select>
                Expiration YY &nbsp;
                <select name = "year">
                    <option> 19 </option>
                    <option> 20 </option>
                    <option> 21 </option>
                    <option> 22 </option>
                    <option> 23 </option>
                </select>
            </p>
            <p> 
                <input type = "submit" value = "Submit Form" />
                <input type = "reset" value = "Clear Form" />
            </p>
        </form>
        <!--<
        script type = "text/javascript">
            document.getElementById("NCHA Form").onsubmit = validate;
        </script>
-->
        
        
    </body>
</html>